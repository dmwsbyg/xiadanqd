<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script language="JavaScript" src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <title>Document</title>
</head>
<style>
    .dr{
        display: inline-block;
        padding-top: 10px;
    }
</style>

<body>
    <div style=" width: 100%;padding-left: 45%; padding-top: 30px; ">
        <div><span style="font-size: 20px;">用户登入</span></div>
        <div >
            <div class="dr">用户:</div>
            <div class="dr">
                <input id="telephone" type="text" placeholder="手机号" name="telephone">
            </div>
        </div>
        <div >
            <div class="dr">密码:</div>
            <div class="dr">
                <input id="password" type="password" placeholder="密码" name="password">
            </div>
        </div>
        <div >
            <div class="dr"><button onclick="DR()" style="background: rgb(53, 170, 71); border: 0px; width: 60px; height: 30px;"><span style="color: white;">登入</span></button></div>
            <div class="dr"><button onclick="zc()" style="background: rgb(75, 141, 248); border: 0px; width: 60px; height: 30px;"><span style="color: white;">注册</span></button></div>
        </div>
    </div>
</body>

<script type="application/javascript">
    function zc(){
        window.location="ZC.html"
    }

    function DR(){
        
        var telephone = $('#telephone').val(); 
        var password = $('#password').val(); 
        console.log(telephone);
        console.log(password);
        if(telephone == null || telephone == ""){
            alert("电话号码不能为空")
            return false;
        }
        if(password == null || password == ""){
            alert("密码不能为空")
            return false;
        }
        $.ajax({
            type: "POST",
            url: "http://127.0.0.1:8080/user/login",
            data: {
                telephone:telephone,
                password:password
            },
            xhrFields: {
                      withCredentials: true
                    //   得知with-credentials是用来设置是否支持发送cookie凭证信息的字段
              },
            crossDomain: true,
            success:function(data){
                console.log(data)
                if(data == "登入成功"){
                    alert("登入成功hhh")
                    window.location="SPLB.html"
                }
                else if(data == "用户或密码错误"){
                    alert("用户或密码错误")
                }else if(data == "null"){
                    alert("该用户不存在")
                }
            }
        })
    }
</script>
</html>